# Чек-лист правок и улучшений

## Статус: Сбор замечаний (Раунд 1)

### Dashboard (Проекты)

- [ ] **Убрать поиск** — Поле поиска не нужно (обычно до 10 проектов)
- [ ] **Добавить меню 3 точки на каждую карточку проекта** — Опции: Редактировать, Удалить
- [ ] **Исправить FAB кнопку плюс** — Должна открывать форму добавления нового проекта
- [ ] **Создать форму добавления/редактирования ПРОЕКТА** — Поля: Название проекта, Город

### Структура данных

- [ ] **Проект → Адреса → Комнаты → Места (спальные места)**
- [ ] **Места могут быть заселены или пусты**
- [ ] **Фото фасада для карточек адресов** — Если нет, показывать стандартную иконку

### Экран адресов (внутри проекта)

- [ ] **Убрать поиск** — Не нужен (адресов обычно до 5)
- [ ] **Отображение карточек адресов** — С фото фасада (или стандартная иконка если нет)
- [ ] **Меню 3 точки на каждой карточке адреса** — Опции: Редактировать, Удалить
- [ ] **Исправить FAB кнопку плюс** — Должна открывать форму добавления нового адреса
- [ ] **Заменить счетчик лайков** — Показывать иконку человека и фактическое количество людей, проживающих по адресу (включая тех, кто на местах в состоянии wypowiedzenie)
  - Счетчик 4/8 = места выкупленные (постоянные + wypowiedzenie)
  - Счетчик людей = фактическое количество фамилий по адресу (может быть меньше 4, если есть пустые места в состоянии wypowiedzenie)

### Форма добавления/редактирования АДРЕСА (Карточка жилья)

Должна содержать:
- [ ] Название адреса
- [ ] Полный адрес
- [ ] Количество мест
- [ ] Общее количество комнат
- [ ] Количество комнат для пар
- [ ] Поставщик (E-Port или RentPlanet)
- [ ] Имя хозяина
- [ ] Телефон
- [ ] Срок выселения (дни)
- [ ] Арендная ставка
- [ ] Плата за проживание
- [ ] Плата за проживание для пары (новое поле)
- [ ] Фото фасада (для карточки жилья)
- [ ] Остальные фото (для галереи комнат)

### Экран адреса - Вкладка "Жильцы"

- [ ] **FAB кнопка плюс** — Открывает форму добавления нового жильца
- [ ] **Меню 3 точки для каждого жильца** — Опции: Редактировать, Удалить
- [ ] **Отображение данных жильца** — Имя, Фамилия, Дата рождения, Цена проживания, Номер комнаты (или "без комнаты")
- [ ] **Отображение цены** — Если жилец отмечен "Пара", показывать цену для пары, иначе обычную цену
- [ ] **Исправить ошибку отображения номера комнаты** — Вместо кучи знаков должен быть номер комнаты или "без комнаты"

### Форма добавления/редактирования ЖИЛЬЦА

- [ ] Имя
- [ ] Фамилия
- [ ] Пол (М/Ж)
- [ ] Год рождения
- [ ] Дата заезда
- [ ] Дата выхода на работу (опционально)
- [ ] Галочка "Пара" (если отмечена, применяется цена для пары)

### Экран адреса - Вкладка "Комнаты"

- [ ] **FAB кнопка плюс** — Открывает форму добавления новой комнаты
- [ ] **Меню 3 точки для каждой комнаты** — Опции: Редактировать, Удалить

### Форма добавления/редактирования КОМНАТЫ

- [ ] Название комнаты
- [ ] Тип (М/Ж/Пара)
- [ ] Количество мест
- [ ] Чекбоксы: Душ, Туалет, Wi-Fi, Плита, Холодильник

### Открытие комнаты (просмотр жильцов)

- [ ] **Отображение жильцов** — Список всех жильцов по адресу (свежие сверху, потом назначенные)
- [ ] **FAB кнопка плюс** — Открывает список всех жильцов по адресу для выбора
- [ ] **Логика переселения** — Когда жилец выбран, он автоматически добавляется в эту комнату и удаляется из предыдущей (если был в другой)
- [ ] **Сохранение количества людей** — Общее количество людей по адресу не меняется, они только мигрируют между комнатами

### Экран Календаря

#### Отображение календаря

- [ ] **Календарь месяца** — Стандартный календарь с днями
- [ ] **Цветные точки под датами** — Обозначают наличие событий:
  - **Зеленая точка** — заселение (check-in) на этот день
  - **Красная точка** — выселение (check-out) на этот день
  - **Желтая точка** — конец wypowiedzenie на этот день
- [ ] **Логика отображения** — Если на один день приходится несколько событий одного типа, показывается ОДНА точка этого цвета
- [ ] **Множественные события** — Если на один день приходят события разных типов (например, заселение И выселение), показываются точки обоих цветов

#### Открытие дня (при нажатии на дату)

- [ ] **Иерархический список событий** — Сортировка: Проект → Адрес → Фамилия жильца
- [ ] **Группировка по типам** — Отдельные секции: Заселения, Выселения, Конец wypowiedzenie
- [ ] **Отображение в каждой секции** — Проект, Адрес, Фамилия жильца (и имя опционально)
- [ ] **Свернуть/развернуть** — Возможность сворачивать проекты и адреса для удобства

#### Фильтрация по проектам

- [ ] **Кнопки фильтрации внизу календаря** — Горизонтальный ряд квадратных кнопок
- [ ] **Кнопка "Все проекты"** — Показывает события всех проектов
- [ ] **Кнопки отдельных проектов** — По одной кнопке на каждый проект
- [ ] **Стиль кнопок** — Квадратные, компактные, в один ряд (горизонтально)
- [ ] **Активное состояние** — Выбранные проекты подсвечены (например, другой цвет фона)
- [ ] **Множественный выбор** — Можно выбрать несколько проектов одновременно
- [ ] **Логика фильтрации** — Календарь обновляется в реальном времени при изменении фильтра

### Экран Поиска

#### Поле поиска

- [ ] **Поле ввода** — Текстовое поле для ввода поискового запроса
- [ ] **Поиск по имени, фамилии или обоим** — Поиск работает по всем трем вариантам
- [ ] **Кнопка поиска** — Нажимаем кнопку для выполнения поиска (не real-time)
- [ ] **Очистка результатов** — Меню 3 точки сверху для очистки результатов поиска
- [ ] **Сообщение "Не найдено"** — Если результатов нет, показываем соответствующее сообщение

#### Карточка досье человека (результат поиска)

**Основные данные:**
- [ ] Имя
- [ ] Фамилия
- [ ] Год рождения
- [ ] Пол (М/Ж)

**Текущее место работы:**
- [ ] Название проекта
- [ ] Дата начала работы

**Текущее место проживания:**
- [ ] Адрес
- [ ] Номер комнаты (или "без комнаты")
- [ ] Дата заезда
- [ ] Цена проживания
- [ ] Статус (активный, на выповедении, выселен)

**История проживания:**
- [ ] Список всех предыдущих адресов
- [ ] Для каждого адреса: Название, Дата заезда, Дата выселения
- [ ] Сортировка: от новых к старым
- [ ] Возможность сворачивать/разворачивать историю

#### Взаимодействие

- [ ] **Меню 3 точки** — Опции: Редактировать, Удалить (доступны на карточке досье)
- [ ] **Навигация** — Нажатие на карточку может открыть полный профиль жильца (опционально)

### Операции с жильцами и местами

#### Выселение жильца (Меню 3 точки → Удалить)

- [ ] **Форма выселения** — Открывается при удалении жильца
- [ ] **Дата выселения** — Когда жилец физически съезжает
- [ ] **Причина выселения** — Выбор из 3 вариантов:
  - Смена работы
  - Переселился на свое жилье
  - Дисциплинарная
- [ ] **Архив выселенных** — Перемещение в раздел Отчеты
- [ ] **Колонки архива** — Имя, Фамилия, Проект, Адрес, Дата заселения, Дата выселения, Причина
- [ ] **Кнопка "Очистить архив"** — Удалить все записи архива

#### Операции с местами (Вкладка "Комнаты")

**Меню 3 точки для каждого места:**
- [ ] **Удалить место** — Можно удалить только свободные места (без жильцов)
- [ ] **Поставить на выповедение** — Место переходит в статус выповедения на срок из карточки адреса (по умолчанию 14 дней)
- [ ] **Снять с выповедения** — Опция появляется, если место уже на выповедении

**Логика статусов:**
- [ ] **Обычное место** — Может быть занято или свободно, считается в статистике как занятое
- [ ] **Место на выповедении** — Может быть занято или свободно, считается в статистике как занятое (но в отдельном счетчике)
- [ ] **Отмена выповедения** — Место возвращается в обычный статус, считается в статистике как занятое
- [ ] **Прогресс-бар** — Отсчитывает дни до конца выповедения

#### Операции с адресами (Меню 3 точки на карточке адреса)

- [ ] **Удалить адрес** — Опция в меню
- [ ] **Поставить адрес на выповедение** — Все места, не находящиеся на выповедении, переходят в этот статус на срок из карточки адреса
- [ ] **Снять адрес с выповедения** — Опция появляется, если адрес уже на выповедении

**Логика выповедения адреса:**
- [ ] **При постановке** — Места, которые были в обычном статусе, переходят на выповедение
- [ ] **Места уже на выповедении** — Остаются на своем сроке, не синхронизируются
- [ ] **При отмене** — Снимается выповедение только с мест, которые были поставлены вместе с адресом
- [ ] **Места поставленные отдельно** — Остаются на выповедении и досчитывают свой срок

#### Форма адреса (Обновление)

- [ ] **Поле "Срок выповедения"** — Количество дней (по умолчанию 14)
- [ ] **Логика** — Этот срок используется при постановке мест и адреса на выповедение

### Экран Отчетов

#### Общая статистика (верх экрана)

- [ ] **Процент заселения** — Относительно всех мест на всех проектах (цель: 100%)
- [ ] **Карточки статистики** — Кликабельные карточки с распределением по проектам:
  - **Мест всего** — Общее количество мест на всех проектах, при клике — распределение по проектам
  - **Мест занято** — Количество занятых мест, при клике — распределение по проектам
  - **Мест свободно** — Количество свободных мест, при клике — распределение по проектам
  - **Выповедение** — Места в состоянии выповедения, при клике — по проектам с прогресс-баром дней
  - **Конфликты** — Количество конфликтов, при клике — список конфликтов

#### Выповедение (при клике на карточку)

- [ ] **По проектам** — Места, находящиеся в состоянии выповедения
- [ ] **Прогресс-бар дней** — Сколько дней осталось до конца выповедения
- [ ] **Сортировка** — По срочности (сначала срочные)
- [ ] **Данные** — Адрес, Номер комнаты, Имя и Фамилия жильца, Дата конца выповедения

#### Конфликты (при клике на карточку)

**Конфликт Тип 1: Человек без комнаты**
- [ ] **Описание** — "Определите комнаты для этих людей"
- [ ] **По проектам** — Проект, Адрес, Имя, Фамилия

**Конфликт Тип 2: Человек живет на выповедении, срок вышел**
- [ ] **Описание** — "Освободите место или переселите человека"
- [ ] **По проектам** — Проект, Адрес, Имя, Фамилия, Номер комнаты, Название места в выповедении

#### По проектам (нижняя часть экрана)

- [ ] **Карточки проектов** — Название проекта и процент заселения
- [ ] **Кнопка "Скачать Excel"** — На каждой карточке проекта
- [ ] **Колонки в Отчете:**
  - Проект (одинаково для всех строк)
  - Адрес
  - Номер комнаты
  - Имя
  - Фамилия
  - Пол
  - Год рождения
  - Дата заезда
  - Дата выхода на работу
  - Цена проживания
  - Статус (активный/выповедение/выселен)
- [ ] **Фильтрация в Excel** — Все колонки фильтруемые (по адресу, полу, и т.д.)
- [ ] **Актуальные данные** — Отчет содержит только активных жильцов (без выселенных)

---

## Примечания
- Правки собираются до завершения цикла
- После "готово" от пользователя начинается финальная сборка
- Все изменения коммитятся на GitHub с описанием
